.how-to {
  $nb-sections: 50; // Nombre de sections par article
  display: grid;
  grid-template-columns: 50% 50%;
  @include media-breakpoint-down(lg) {
    grid-template-columns: 1fr;
  }
  grid-auto-rows: minmax(100px, auto);
  grid-column-gap: 1rem;
  grid-row-gap: 1rem;

  #gephi {
    > h2 {
      grid-column: 1;
      grid-row: 1;
    }
  }
  #gephi-lite {
    > h2 {
      grid-column: 2;
      grid-row: 1;
      @include media-breakpoint-down(lg) {
        grid-column: 1;
        grid-row: 2;
      }
    }

    @include media-breakpoint-down(lg) {
      text-align: end;
    }
  }

  .how-to-column {
    display: contents;
    h2 {
      @include media-breakpoint-up(lg) {
        text-align: center;
      }
    }
    section {
      position: relative;
      blockquote {
        @extend .p-2;
        @extend .rounded;
        background-color: $white;
        p {
          margin: 0;
        }
      }
      p:has(img) {
        text-align: center;
      }
      img {
        max-width: 100%;
        height: auto;
        max-height: 60vh;
        object-fit: contain;
        text-align: center;
      }
    }
  }

  // place sections in the right rows
  @for $i from 1 through $nb-sections {
    #gephi > section:nth-child(#{$i}) {
      grid-column: 1;
      @include media-breakpoint-down(lg) {
        grid-row: 2 * $i - 2 + 1;
      }
      @include media-breakpoint-up(lg) {
        grid-row: $i;
      }
    }
    #gephi-lite > section:nth-child(#{$i}) {
      @include media-breakpoint-down(lg) {
        grid-row: 2 * $i - 1 + 1;
        grid-column: 1;
      }
      @include media-breakpoint-up(lg) {
        grid-row: $i;
        grid-column: 2;
      }
    }
  }
}
